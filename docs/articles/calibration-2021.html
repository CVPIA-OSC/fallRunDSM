<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fall Run Calibration 2021 â€¢ fallRunDSM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Fall Run Calibration 2021">
<meta property="og:description" content="fallRunDSM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fallRunDSM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/calibration-2021.html">Calibration</a>
    </li>
    <li>
      <a href="../articles/sensitivity-analysis.html">Sensitivity Analysis</a>
    </li>
    <li>
      <a href="../articles/hatchery-analysis.html">Hatchery Analysis</a>
    </li>
    <li>
      <a href="../articles/temperature-model.html">Temperature Modeling</a>
    </li>
    <li>
      <a href="../articles/model_faq.html">Model FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CVPIA-OSC/fallRunDSM" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="calibration-2021_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="calibration-2021_files/plotly-binding-4.10.0/plotly.js"></script><script src="calibration-2021_files/typedarray-0.1/typedarray.min.js"></script><link href="calibration-2021_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="calibration-2021_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="calibration-2021_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="calibration-2021_files/plotly-main-2.5.1/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Fall Run Calibration 2021</h1>
            
      
      
      <div class="hidden name"><code>calibration-2021.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="objective">Objective<a class="anchor" aria-label="anchor" href="#objective"></a>
</h2>
<p>We are using genetic algorithms, a type of stochastic optimization,
to calibrate the following model coefficients:</p>
<ul>
<li>
<code>..surv_adult_enroute_int</code> used in submodel
<code>surv_adult_enroute</code>
</li>
<li>
<code>..surv_adult_prespawn_int</code> used in submodel
<code>surv_adult_prespawn</code>
</li>
<li>
<code>..surv_egg_to_fry_int</code> used in submodel
<code>surv_egg_to_fry</code>
</li>
<li>
<code>..surv_juv_rear_int</code> used in submodel
<code>surv_juv_rear</code>
</li>
<li>
<code>..surv_juv_rear_contact_points</code> used in submodel
<code>surv_juv_rear</code>
</li>
<li>
<code>..surv_juv_rear_prop_diversions</code> used in submodel
<code>surv_juv_rear</code>
</li>
<li>
<code>..surv_juv_rear_total_diversions</code> used in submodel
<code>surv_juv_rear</code>
</li>
<li>
<code>..surv_juv_bypass_int</code> used in submodel
<code>surv_juv_bypass</code>
</li>
<li>
<code>..surv_juv_delta_int</code> used in submodel
<code>surv_juv_delta</code>
</li>
<li>
<code>..surv_juv_delta_contact_points</code> used in submodel
<code>surv_juv_delta</code>
</li>
<li>
<code>..surv_juv_delta_total_diverted</code> used in submodel
<code>surv_juv_delta</code>
</li>
<li>
<code>..surv_juv_outmigration_sj_int</code> used in submodel
<code>surv_juv_outmigration_san_joaquin</code>
</li>
<li>
<code>..ocean_entry_success_int</code> used in submodel
<code>ocean_entry_success</code>
</li>
</ul>
<p>A detailed description for each of these parameters can be found in
the <a href="https://cvpia-osc.github.io/fallRunDSM/reference/params.html" class="external-link">Fall
Run Documentation Website</a></p>
<p>We are restricting the calibration to watersheds with Grandtab data,
these are:</p>
<table class="table">
<thead><tr class="header">
<th align="left">watershed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Upper Sacramento River</td>
</tr>
<tr class="even">
<td align="left">Butte Creek</td>
</tr>
<tr class="odd">
<td align="left">Clear Creek</td>
</tr>
<tr class="even">
<td align="left">Deer Creek</td>
</tr>
<tr class="odd">
<td align="left">Mill Creek</td>
</tr>
<tr class="even">
<td align="left">Feather River</td>
</tr>
<tr class="odd">
<td align="left">Yuba River</td>
</tr>
<tr class="even">
<td align="left">American River</td>
</tr>
<tr class="odd">
<td align="left">Cosumnes River</td>
</tr>
<tr class="even">
<td align="left">Mokelumne River</td>
</tr>
<tr class="odd">
<td align="left">Merced River</td>
</tr>
<tr class="even">
<td align="left">Stanislaus River</td>
</tr>
<tr class="odd">
<td align="left">Tuolumne River</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="packages">Packages<a class="anchor" aria-label="anchor" href="#packages"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://luca-scr.github.io/GA/" class="external-link">GA</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://CVPIA-OSC.github.io/fallRunDSM/">fallRunDSM</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">DSMCalibrationData</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></code></pre></div>
<p>We are using the <a href="http://luca-scr.github.io/GA/index.html" class="external-link">GA</a> R package to
implement our genetic algorithms search to calibrate the above
intercepts for the <code><a href="../reference/fall_run_model.html">fallRunDSM::fall_run_model()</a></code> function of
the <a href="https://cvpia-osc.github.io/fallRunDSM" class="external-link">fallRunDSM</a> R
package.</p>
<p>Additionally, we are using <a href="https://github.com/CVPIA-OSC/DSMCalibrationData" class="external-link">DSMCalibrationData</a>
to access calibration related data.</p>
</div>
<div class="section level2">
<h2 id="calibrating-data">Calibrating Data<a class="anchor" aria-label="anchor" href="#calibrating-data"></a>
</h2>
<div class="section level3">
<h3 id="grandtab">GrandTab<a class="anchor" aria-label="anchor" href="#grandtab"></a>
</h3>
<p>We will be minimizing the error between <a href="https://wildlife.ca.gov/Conservation/Fishes/Chinook-Salmon/Anadromous-Assessment" class="external-link">GrandTab</a>
estimated escapement data for the years 1998-2017 to natural spawners
predicted by the DSM. We are further scaling this error by a weight
representing the amount of observed data available for a given
watershed. Given that GrandTab includes both hatchery and natural
spawners, we will scale GrandTab escapement values using an estimated
proportion natural spawners for each watershed. This will allow us to
compare predicted natural spawners to psuedo GrandTab natural
spawners.</p>
<p>For calibration, we have prepared the GrandTab data in two ways:</p>
<ol style="list-style-type: decimal">
<li><p><code><a href="https://rdrr.io/pkg/DSMCalibrationData/man/grandtab.html" class="external-link">DSMCalibrationData::grandtab_observed</a></code> - This data
will be used in the fitness function to measure the difference between
model predictions and observed escapement. Missing values are NA and we
made all records less than 100 NA to account for a lack of confidence
for counts less than 100.</p></li>
<li><p><code><a href="https://rdrr.io/pkg/DSMCalibrationData/man/grandtab.html" class="external-link">DSMCalibrationData::grandtab_imputed</a></code> - This data
will be used to calculate the number of juveniles during the 20 year
simulation. The GrandTab data is incomplete for many watersheds during
the 20 year period of calibration. For watersheds with no GrandTab data,
we used 40 as the default escapement value. For watersheds with
incomplete data, we used the mean escapement value.</p></li>
</ol>
<p><strong>Observed Values</strong></p>
<div id="htmlwidget-de45a522bb4eac161a18" style="width:768px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-de45a522bb4eac161a18">{"x":{"visdat":{"a7d043ec5f22":["function () ","plotlyVisDat"]},"cur_data":"a7d043ec5f22","attrs":{"a7d043ec5f22":{"x":{},"y":{},"mode":"lines","hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"spawners"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[50457,55339,100852,135384,124252,163742,99230,62679,24540,10120,2514,5297,14688,25626,38328,58228,26475,15732,14473,9886],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>  50,457","<b>Year<\/b> 1999 <br><b>Spawners<\/b>  55,339","<b>Year<\/b> 2000 <br><b>Spawners<\/b> 100,852","<b>Year<\/b> 2001 <br><b>Spawners<\/b> 135,384","<b>Year<\/b> 2002 <br><b>Spawners<\/b> 124,252","<b>Year<\/b> 2003 <br><b>Spawners<\/b> 163,742","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  99,230","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  62,679","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  24,540","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  10,120","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   2,514","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   5,297","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  14,688","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  25,626","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  38,328","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  58,228","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  26,475","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  15,732","<b>Year<\/b> 2016 <br><b>Spawners<\/b>  14,473","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   9,886"],"type":"scatter","name":"American River","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,null,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,null,2016,2017],"y":[500,null,4433,3665,3492,2516,4255,1920,1225,275,306,370,416,813,2200,1412,null,626,105],"mode":"lines","hoverinfo":["text",null,"text","text","text","text","text","text","text","text","text","text","text","text","text","text",null,"text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     500",null,"<b>Year<\/b> 2001 <br><b>Spawners<\/b>   4,433","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   3,665","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   3,492","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   2,516","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   4,255","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,920","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   1,225","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     275","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     306","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     370","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     416","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     813","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,200","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   1,412",null,"<b>Year<\/b> 2016 <br><b>Spawners<\/b>     626","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     105"],"type":"scatter","name":"Butte Creek","marker":{"color":"rgba(204,167,126,1)","line":{"color":"rgba(204,167,126,1)"}},"textfont":{"color":"rgba(204,167,126,1)"},"error_y":{"color":"rgba(204,167,126,1)"},"error_x":{"color":"rgba(204,167,126,1)"},"line":{"color":"rgba(204,167,126,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[4259,8003,6687,10865,16071,9475,6365,14824,8422,4157,7677,3228,7192,4841,7631,13337,15794,8809,2481,2353],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   4,259","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   8,003","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   6,687","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  10,865","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  16,071","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   9,475","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   6,365","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  14,824","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   8,422","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   4,157","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   7,677","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   3,228","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   7,192","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   4,841","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   7,631","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  13,337","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  15,794","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   8,809","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   2,481","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   2,353"],"type":"scatter","name":"Clear Creek","marker":{"color":"rgba(238,145,116,1)","line":{"color":"rgba(238,145,116,1)"}},"textfont":{"color":"rgba(238,145,116,1)"},"error_y":{"color":"rgba(238,145,116,1)"},"error_x":{"color":"rgba(238,145,116,1)"},"line":{"color":"rgba(238,145,116,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,null,2002,2003,2004,2005,2006,null,2010,null,2012,null,2014,2015,2016,2017],"y":[300,229,460,null,1350,122,1208,370,530,null,740,null,1071,null,373,204,1248,670],"mode":"lines","hoverinfo":["text","text","text",null,"text","text","text","text","text",null,"text",null,"text",null,"text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     300","<b>Year<\/b> 1999 <br><b>Spawners<\/b>     229","<b>Year<\/b> 2000 <br><b>Spawners<\/b>     460",null,"<b>Year<\/b> 2002 <br><b>Spawners<\/b>   1,350","<b>Year<\/b> 2003 <br><b>Spawners<\/b>     122","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,208","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     370","<b>Year<\/b> 2006 <br><b>Spawners<\/b>     530",null,"<b>Year<\/b> 2010 <br><b>Spawners<\/b>     740",null,"<b>Year<\/b> 2012 <br><b>Spawners<\/b>   1,071",null,"<b>Year<\/b> 2014 <br><b>Spawners<\/b>     373","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     204","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,248","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     670"],"type":"scatter","name":"Cosumnes River","marker":{"color":"rgba(178,156,177,1)","line":{"color":"rgba(178,156,177,1)"}},"textfont":{"color":"rgba(178,156,177,1)"},"error_y":{"color":"rgba(178,156,177,1)"},"error_x":{"color":"rgba(178,156,177,1)"},"line":{"color":"rgba(178,156,177,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,null,2004,2005,2006,2007,2008,null,2010,2011,2012,2013,2014,2015,2016,2017],"y":[270,null,300,963,1905,563,194,null,166,662,873,1026,849,612,253,106],"mode":"lines","hoverinfo":["text",null,"text","text","text","text","text",null,"text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     270",null,"<b>Year<\/b> 2004 <br><b>Spawners<\/b>     300","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     963","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,905","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     563","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     194",null,"<b>Year<\/b> 2010 <br><b>Spawners<\/b>     166","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     662","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     873","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   1,026","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     849","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     612","<b>Year<\/b> 2016 <br><b>Spawners<\/b>     253","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     106"],"type":"scatter","name":"Deer Creek","marker":{"color":"rgba(175,154,200,1)","line":{"color":"rgba(175,154,200,1)"}},"textfont":{"color":"rgba(175,154,200,1)"},"error_y":{"color":"rgba(175,154,200,1)"},"error_x":{"color":"rgba(175,154,200,1)"},"line":{"color":"rgba(175,154,200,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[106490,165833,97621,83495,50286,45634,70934,20338,5513,4499,41693,43898,59084,140365,56811,19091,35994,9779],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 2000 <br><b>Spawners<\/b> 106,490","<b>Year<\/b> 2001 <br><b>Spawners<\/b> 165,833","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  97,621","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  83,495","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  50,286","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  45,634","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  70,934","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  20,338","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   5,513","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   4,499","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  41,693","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  43,898","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  59,084","<b>Year<\/b> 2013 <br><b>Spawners<\/b> 140,365","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  56,811","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  19,091","<b>Year<\/b> 2016 <br><b>Spawners<\/b>  35,994","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   9,779"],"type":"scatter","name":"Feather River","marker":{"color":"rgba(224,140,196,1)","line":{"color":"rgba(224,140,196,1)"}},"textfont":{"color":"rgba(224,140,196,1)"},"error_y":{"color":"rgba(224,140,196,1)"},"error_x":{"color":"rgba(224,140,196,1)"},"line":{"color":"rgba(224,140,196,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[3292,3129,11130,9181,8866,2530,3270,1942,1429,485,389,358,651,1571,2011,2826,922,1247,2541,3191],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   3,292","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   3,129","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  11,130","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   9,181","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   8,866","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,530","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   3,270","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   1,942","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,429","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     485","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     389","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     358","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     651","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,571","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   2,011","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,826","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     922","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   1,247","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   2,541","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   3,191"],"type":"scatter","name":"Merced River","marker":{"color":"rgba(205,180,144,1)","line":{"color":"rgba(205,180,144,1)"}},"textfont":{"color":"rgba(205,180,144,1)"},"error_y":{"color":"rgba(205,180,144,1)"},"error_x":{"color":"rgba(205,180,144,1)"},"line":{"color":"rgba(205,180,144,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,null,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[546,null,2611,2426,1192,2426,1403,851,218,102,144,1231,890,2197,2488,1033,602,342],"mode":"lines","hoverinfo":["text",null,"text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     546",null,"<b>Year<\/b> 2002 <br><b>Spawners<\/b>   2,611","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,426","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,192","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   2,426","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,403","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     851","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     218","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     102","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     144","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,231","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     890","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,197","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   2,488","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   1,033","<b>Year<\/b> 2016 <br><b>Spawners<\/b>     602","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     342"],"type":"scatter","name":"Mill Creek","marker":{"color":"rgba(174,216,81,1)","line":{"color":"rgba(174,216,81,1)"}},"textfont":{"color":"rgba(174,216,81,1)"},"error_y":{"color":"rgba(174,216,81,1)"},"error_x":{"color":"rgba(174,216,81,1)"},"line":{"color":"rgba(174,216,81,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[4122,2183,1973,2307,2840,2122,1588,10406,1732,470,173,680,1920,2674,5471,7071,3297,4581,1984,5639],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   4,122","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   2,183","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   1,973","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   2,307","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   2,840","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,122","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,588","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  10,406","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,732","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     470","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     173","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     680","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   1,920","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   2,674","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   5,471","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   7,071","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   3,297","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   4,581","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,984","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   5,639"],"type":"scatter","name":"Mokelumne River","marker":{"color":"rgba(227,217,62,1)","line":{"color":"rgba(227,217,62,1)"}},"textfont":{"color":"rgba(227,217,62,1)"},"error_y":{"color":"rgba(227,217,62,1)"},"error_x":{"color":"rgba(227,217,62,1)"},"line":{"color":"rgba(227,217,62,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[3087,4349,8498,7033,7787,5902,4015,1427,1923,443,865,595,1086,1309,4006,2845,3060,6136,9330,5655],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   3,087","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   4,349","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   8,498","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   7,033","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   7,787","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   5,902","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   4,015","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   1,427","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,923","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     443","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     865","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     595","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   1,086","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,309","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   4,006","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,845","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   3,060","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   6,136","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   9,330","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   5,655"],"type":"scatter","name":"Stanislaus River","marker":{"color":"rgba(250,212,80,1)","line":{"color":"rgba(250,212,80,1)"}},"textfont":{"color":"rgba(250,212,80,1)"},"error_y":{"color":"rgba(250,212,80,1)"},"error_x":{"color":"rgba(250,212,80,1)"},"line":{"color":"rgba(250,212,80,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[8910,8232,17873,8782,7173,2163,1984,668,562,224,388,124,540,893,783,1926,438,113,1347,1096],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   8,910","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   8,232","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  17,873","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   8,782","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   7,173","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,163","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,984","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     668","<b>Year<\/b> 2006 <br><b>Spawners<\/b>     562","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     224","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     388","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     124","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     540","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     893","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     783","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   1,926","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     438","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     113","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,347","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   1,096"],"type":"scatter","name":"Tuolumne River","marker":{"color":"rgba(234,199,134,1)","line":{"color":"rgba(234,199,134,1)"}},"textfont":{"color":"rgba(234,199,134,1)"},"error_y":{"color":"rgba(234,199,134,1)"},"error_x":{"color":"rgba(234,199,134,1)"},"line":{"color":"rgba(234,199,134,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[6318,161192,96688,75296,65690,89229,43604,57012,55468,17061,24743,5827,16372,11957,28701,40084,34876,28660,4291,2149],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   6,318","<b>Year<\/b> 1999 <br><b>Spawners<\/b> 161,192","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  96,688","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  75,296","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  65,690","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  89,229","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  43,604","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  57,012","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  55,468","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  17,061","<b>Year<\/b> 2008 <br><b>Spawners<\/b>  24,743","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   5,827","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  16,372","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  11,957","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  28,701","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  40,084","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  34,876","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  28,660","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   4,291","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   2,149"],"type":"scatter","name":"Upper Sacramento River","marker":{"color":"rgba(209,189,161,1)","line":{"color":"rgba(209,189,161,1)"}},"textfont":{"color":"rgba(209,189,161,1)"},"error_y":{"color":"rgba(209,189,161,1)"},"error_x":{"color":"rgba(209,189,161,1)"},"line":{"color":"rgba(209,189,161,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[28860,22492,13920,21714,22326,26285,14174,16366,7539,2417,3256,4303,13344,8288,7118,13813,10782,6040,3766,1517],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>  28,860","<b>Year<\/b> 1999 <br><b>Spawners<\/b>  22,492","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  13,920","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  21,714","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  22,326","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  26,285","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  14,174","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  16,366","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   7,539","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   2,417","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   3,256","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   4,303","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  13,344","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   8,288","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   7,118","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  13,813","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  10,782","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   6,040","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   3,766","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   1,517"],"type":"scatter","name":"Yuba River","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p><strong>Imputed Values</strong></p>
<div id="htmlwidget-70d5b8f251ace0541135" style="width:768px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-70d5b8f251ace0541135">{"x":{"visdat":{"a7d05e0014f0":["function () ","plotlyVisDat"]},"cur_data":"a7d05e0014f0","attrs":{"a7d05e0014f0":{"x":{},"y":{},"mode":"lines","hoverinfo":"text","text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"spawners"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[50457,55339,100852,135384,124252,163742,99230,62679,24540,10120,2514,5297,14688,25626,38328,58228,26475,15732,14473,9886],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>  50,457","<b>Year<\/b> 1999 <br><b>Spawners<\/b>  55,339","<b>Year<\/b> 2000 <br><b>Spawners<\/b> 100,852","<b>Year<\/b> 2001 <br><b>Spawners<\/b> 135,384","<b>Year<\/b> 2002 <br><b>Spawners<\/b> 124,252","<b>Year<\/b> 2003 <br><b>Spawners<\/b> 163,742","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  99,230","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  62,679","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  24,540","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  10,120","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   2,514","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   5,297","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  14,688","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  25,626","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  38,328","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  58,228","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  26,475","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  15,732","<b>Year<\/b> 2016 <br><b>Spawners<\/b>  14,473","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   9,886"],"type":"scatter","name":"American River","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[500,1590,1590,4433,3665,3492,2516,4255,1920,1225,275,306,370,416,813,2200,1412,82,626,105],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     500","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   1,590","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   1,590","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   4,433","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   3,665","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   3,492","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   2,516","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   4,255","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,920","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   1,225","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     275","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     306","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     370","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     416","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     813","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,200","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   1,412","<b>Year<\/b> 2015 <br><b>Spawners<\/b>      82","<b>Year<\/b> 2016 <br><b>Spawners<\/b>     626","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     105"],"type":"scatter","name":"Butte Creek","marker":{"color":"rgba(204,167,126,1)","line":{"color":"rgba(204,167,126,1)"}},"textfont":{"color":"rgba(204,167,126,1)"},"error_y":{"color":"rgba(204,167,126,1)"},"error_x":{"color":"rgba(204,167,126,1)"},"line":{"color":"rgba(204,167,126,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[4259,8003,6687,10865,16071,9475,6365,14824,8422,4157,7677,3228,7192,4841,7631,13337,15794,8809,2481,2353],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   4,259","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   8,003","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   6,687","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  10,865","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  16,071","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   9,475","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   6,365","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  14,824","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   8,422","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   4,157","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   7,677","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   3,228","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   7,192","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   4,841","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   7,631","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  13,337","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  15,794","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   8,809","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   2,481","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   2,353"],"type":"scatter","name":"Clear Creek","marker":{"color":"rgba(238,145,116,1)","line":{"color":"rgba(238,145,116,1)"}},"textfont":{"color":"rgba(238,145,116,1)"},"error_y":{"color":"rgba(238,145,116,1)"},"error_x":{"color":"rgba(238,145,116,1)"},"line":{"color":"rgba(238,145,116,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[300,229,460,531,1350,122,1208,370,530,77,15,531,740,53,1071,531,373,204,1248,670],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     300","<b>Year<\/b> 1999 <br><b>Spawners<\/b>     229","<b>Year<\/b> 2000 <br><b>Spawners<\/b>     460","<b>Year<\/b> 2001 <br><b>Spawners<\/b>     531","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   1,350","<b>Year<\/b> 2003 <br><b>Spawners<\/b>     122","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,208","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     370","<b>Year<\/b> 2006 <br><b>Spawners<\/b>     530","<b>Year<\/b> 2007 <br><b>Spawners<\/b>      77","<b>Year<\/b> 2008 <br><b>Spawners<\/b>      15","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     531","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     740","<b>Year<\/b> 2011 <br><b>Spawners<\/b>      53","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   1,071","<b>Year<\/b> 2013 <br><b>Spawners<\/b>     531","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     373","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     204","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,248","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     670"],"type":"scatter","name":"Cosumnes River","marker":{"color":"rgba(178,156,177,1)","line":{"color":"rgba(178,156,177,1)"}},"textfont":{"color":"rgba(178,156,177,1)"},"error_y":{"color":"rgba(178,156,177,1)"},"error_x":{"color":"rgba(178,156,177,1)"},"line":{"color":"rgba(178,156,177,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[270,587,587,587,587,587,300,963,1905,563,194,58,166,662,873,1026,849,612,253,106],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     270","<b>Year<\/b> 1999 <br><b>Spawners<\/b>     587","<b>Year<\/b> 2000 <br><b>Spawners<\/b>     587","<b>Year<\/b> 2001 <br><b>Spawners<\/b>     587","<b>Year<\/b> 2002 <br><b>Spawners<\/b>     587","<b>Year<\/b> 2003 <br><b>Spawners<\/b>     587","<b>Year<\/b> 2004 <br><b>Spawners<\/b>     300","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     963","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,905","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     563","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     194","<b>Year<\/b> 2009 <br><b>Spawners<\/b>      58","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     166","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     662","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     873","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   1,026","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     849","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     612","<b>Year<\/b> 2016 <br><b>Spawners<\/b>     253","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     106"],"type":"scatter","name":"Deer Creek","marker":{"color":"rgba(175,154,200,1)","line":{"color":"rgba(175,154,200,1)"}},"textfont":{"color":"rgba(175,154,200,1)"},"error_y":{"color":"rgba(175,154,200,1)"},"error_x":{"color":"rgba(175,154,200,1)"},"line":{"color":"rgba(175,154,200,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[58742,58742,106490,165833,97621,83495,50286,45634,70934,20338,5513,4499,41693,43898,59084,140365,56811,19091,35994,9779],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>  58,742","<b>Year<\/b> 1999 <br><b>Spawners<\/b>  58,742","<b>Year<\/b> 2000 <br><b>Spawners<\/b> 106,490","<b>Year<\/b> 2001 <br><b>Spawners<\/b> 165,833","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  97,621","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  83,495","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  50,286","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  45,634","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  70,934","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  20,338","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   5,513","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   4,499","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  41,693","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  43,898","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  59,084","<b>Year<\/b> 2013 <br><b>Spawners<\/b> 140,365","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  56,811","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  19,091","<b>Year<\/b> 2016 <br><b>Spawners<\/b>  35,994","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   9,779"],"type":"scatter","name":"Feather River","marker":{"color":"rgba(224,140,196,1)","line":{"color":"rgba(224,140,196,1)"}},"textfont":{"color":"rgba(224,140,196,1)"},"error_y":{"color":"rgba(224,140,196,1)"},"error_x":{"color":"rgba(224,140,196,1)"},"line":{"color":"rgba(224,140,196,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[3292,3129,11130,9181,8866,2530,3270,1942,1429,485,389,358,651,1571,2011,2826,922,1247,2541,3191],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   3,292","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   3,129","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  11,130","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   9,181","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   8,866","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,530","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   3,270","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   1,942","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,429","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     485","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     389","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     358","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     651","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,571","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   2,011","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,826","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     922","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   1,247","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   2,541","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   3,191"],"type":"scatter","name":"Merced River","marker":{"color":"rgba(205,180,144,1)","line":{"color":"rgba(205,180,144,1)"}},"textfont":{"color":"rgba(205,180,144,1)"},"error_y":{"color":"rgba(205,180,144,1)"},"error_x":{"color":"rgba(205,180,144,1)"},"line":{"color":"rgba(205,180,144,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[546,1218,1218,1218,2611,2426,1192,2426,1403,851,218,102,144,1231,890,2197,2488,1033,602,342],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>     546","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   1,218","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   1,218","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   1,218","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   2,611","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,426","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,192","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   2,426","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,403","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     851","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     218","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     102","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     144","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,231","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     890","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,197","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   2,488","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   1,033","<b>Year<\/b> 2016 <br><b>Spawners<\/b>     602","<b>Year<\/b> 2017 <br><b>Spawners<\/b>     342"],"type":"scatter","name":"Mill Creek","marker":{"color":"rgba(174,216,81,1)","line":{"color":"rgba(174,216,81,1)"}},"textfont":{"color":"rgba(174,216,81,1)"},"error_y":{"color":"rgba(174,216,81,1)"},"error_x":{"color":"rgba(174,216,81,1)"},"line":{"color":"rgba(174,216,81,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[4122,2183,1973,2307,2840,2122,1588,10406,1732,470,173,680,1920,2674,5471,7071,3297,4581,1984,5639],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   4,122","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   2,183","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   1,973","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   2,307","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   2,840","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,122","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,588","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  10,406","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,732","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     470","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     173","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     680","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   1,920","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   2,674","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   5,471","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   7,071","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   3,297","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   4,581","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,984","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   5,639"],"type":"scatter","name":"Mokelumne River","marker":{"color":"rgba(227,217,62,1)","line":{"color":"rgba(227,217,62,1)"}},"textfont":{"color":"rgba(227,217,62,1)"},"error_y":{"color":"rgba(227,217,62,1)"},"error_x":{"color":"rgba(227,217,62,1)"},"line":{"color":"rgba(227,217,62,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[3087,4349,8498,7033,7787,5902,4015,1427,1923,443,865,595,1086,1309,4006,2845,3060,6136,9330,5655],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   3,087","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   4,349","<b>Year<\/b> 2000 <br><b>Spawners<\/b>   8,498","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   7,033","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   7,787","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   5,902","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   4,015","<b>Year<\/b> 2005 <br><b>Spawners<\/b>   1,427","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   1,923","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     443","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     865","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     595","<b>Year<\/b> 2010 <br><b>Spawners<\/b>   1,086","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   1,309","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   4,006","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   2,845","<b>Year<\/b> 2014 <br><b>Spawners<\/b>   3,060","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   6,136","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   9,330","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   5,655"],"type":"scatter","name":"Stanislaus River","marker":{"color":"rgba(250,212,80,1)","line":{"color":"rgba(250,212,80,1)"}},"textfont":{"color":"rgba(250,212,80,1)"},"error_y":{"color":"rgba(250,212,80,1)"},"error_x":{"color":"rgba(250,212,80,1)"},"line":{"color":"rgba(250,212,80,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[8910,8232,17873,8782,7173,2163,1984,668,562,224,388,124,540,893,783,1926,438,113,1347,1096],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   8,910","<b>Year<\/b> 1999 <br><b>Spawners<\/b>   8,232","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  17,873","<b>Year<\/b> 2001 <br><b>Spawners<\/b>   8,782","<b>Year<\/b> 2002 <br><b>Spawners<\/b>   7,173","<b>Year<\/b> 2003 <br><b>Spawners<\/b>   2,163","<b>Year<\/b> 2004 <br><b>Spawners<\/b>   1,984","<b>Year<\/b> 2005 <br><b>Spawners<\/b>     668","<b>Year<\/b> 2006 <br><b>Spawners<\/b>     562","<b>Year<\/b> 2007 <br><b>Spawners<\/b>     224","<b>Year<\/b> 2008 <br><b>Spawners<\/b>     388","<b>Year<\/b> 2009 <br><b>Spawners<\/b>     124","<b>Year<\/b> 2010 <br><b>Spawners<\/b>     540","<b>Year<\/b> 2011 <br><b>Spawners<\/b>     893","<b>Year<\/b> 2012 <br><b>Spawners<\/b>     783","<b>Year<\/b> 2013 <br><b>Spawners<\/b>   1,926","<b>Year<\/b> 2014 <br><b>Spawners<\/b>     438","<b>Year<\/b> 2015 <br><b>Spawners<\/b>     113","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   1,347","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   1,096"],"type":"scatter","name":"Tuolumne River","marker":{"color":"rgba(234,199,134,1)","line":{"color":"rgba(234,199,134,1)"}},"textfont":{"color":"rgba(234,199,134,1)"},"error_y":{"color":"rgba(234,199,134,1)"},"error_x":{"color":"rgba(234,199,134,1)"},"line":{"color":"rgba(234,199,134,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[6318,161192,96688,75296,65690,89229,43604,57012,55468,17061,24743,5827,16372,11957,28701,40084,34876,28660,4291,2149],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>   6,318","<b>Year<\/b> 1999 <br><b>Spawners<\/b> 161,192","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  96,688","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  75,296","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  65,690","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  89,229","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  43,604","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  57,012","<b>Year<\/b> 2006 <br><b>Spawners<\/b>  55,468","<b>Year<\/b> 2007 <br><b>Spawners<\/b>  17,061","<b>Year<\/b> 2008 <br><b>Spawners<\/b>  24,743","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   5,827","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  16,372","<b>Year<\/b> 2011 <br><b>Spawners<\/b>  11,957","<b>Year<\/b> 2012 <br><b>Spawners<\/b>  28,701","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  40,084","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  34,876","<b>Year<\/b> 2015 <br><b>Spawners<\/b>  28,660","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   4,291","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   2,149"],"type":"scatter","name":"Upper Sacramento River","marker":{"color":"rgba(209,189,161,1)","line":{"color":"rgba(209,189,161,1)"}},"textfont":{"color":"rgba(209,189,161,1)"},"error_y":{"color":"rgba(209,189,161,1)"},"error_x":{"color":"rgba(209,189,161,1)"},"line":{"color":"rgba(209,189,161,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],"y":[28860,22492,13920,21714,22326,26285,14174,16366,7539,2417,3256,4303,13344,8288,7118,13813,10782,6040,3766,1517],"mode":"lines","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Year<\/b> 1998 <br><b>Spawners<\/b>  28,860","<b>Year<\/b> 1999 <br><b>Spawners<\/b>  22,492","<b>Year<\/b> 2000 <br><b>Spawners<\/b>  13,920","<b>Year<\/b> 2001 <br><b>Spawners<\/b>  21,714","<b>Year<\/b> 2002 <br><b>Spawners<\/b>  22,326","<b>Year<\/b> 2003 <br><b>Spawners<\/b>  26,285","<b>Year<\/b> 2004 <br><b>Spawners<\/b>  14,174","<b>Year<\/b> 2005 <br><b>Spawners<\/b>  16,366","<b>Year<\/b> 2006 <br><b>Spawners<\/b>   7,539","<b>Year<\/b> 2007 <br><b>Spawners<\/b>   2,417","<b>Year<\/b> 2008 <br><b>Spawners<\/b>   3,256","<b>Year<\/b> 2009 <br><b>Spawners<\/b>   4,303","<b>Year<\/b> 2010 <br><b>Spawners<\/b>  13,344","<b>Year<\/b> 2011 <br><b>Spawners<\/b>   8,288","<b>Year<\/b> 2012 <br><b>Spawners<\/b>   7,118","<b>Year<\/b> 2013 <br><b>Spawners<\/b>  13,813","<b>Year<\/b> 2014 <br><b>Spawners<\/b>  10,782","<b>Year<\/b> 2015 <br><b>Spawners<\/b>   6,040","<b>Year<\/b> 2016 <br><b>Spawners<\/b>   3,766","<b>Year<\/b> 2017 <br><b>Spawners<\/b>   1,517"],"type":"scatter","name":"Yuba River","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="selected-proxy-years">Selected Proxy Years<a class="anchor" aria-label="anchor" href="#selected-proxy-years"></a>
</h3>
<p>The data inputs to the DSM are for years 1980-1999. We selected proxy
years for 1998-2017 from the 1980-1999 model inputs by <a href="https://cdec.water.ca.gov/reportapp/javareports?name=WSIHIST" class="external-link">comparing
the DWR water year indices</a> in this <a href="https://github.com/CVPIA-OSC/DSMCalibrationData/blob/main/data-raw/synthetic_years.R" class="external-link">analysis</a>.</p>
<p>These inputs are generated by calling
<code>DSMCalibrationData::set_synth_years(params)</code>, with a
<code>params</code> object from the life cycle model ex:
<code><a href="../reference/params.html">fallRunDSM::params</a></code>. See the documentation for more details
on the <a href="https://github.com/CVPIA-OSC/DSMCalibrationData" class="external-link">DSMCalibrationData</a>
R package.</p>
<div class="section level4">
<h4 id="spawning-inputs-proxy-years">Spawning Inputs Proxy Years<a class="anchor" aria-label="anchor" href="#spawning-inputs-proxy-years"></a>
</h4>
<table class="table">
<thead><tr class="header">
<th align="left">Calibration Year</th>
<th align="left">Selected Proxy Year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1997</td>
<td align="left">1997</td>
</tr>
<tr class="even">
<td align="left">1998</td>
<td align="left">1998</td>
</tr>
<tr class="odd">
<td align="left">1999</td>
<td align="left">1999</td>
</tr>
<tr class="even">
<td align="left">2000</td>
<td align="left">2000</td>
</tr>
<tr class="odd">
<td align="left">2001</td>
<td align="left">1987</td>
</tr>
<tr class="even">
<td align="left">2002</td>
<td align="left">1985</td>
</tr>
<tr class="odd">
<td align="left">2003</td>
<td align="left">2000</td>
</tr>
<tr class="even">
<td align="left">2004</td>
<td align="left">1985</td>
</tr>
<tr class="odd">
<td align="left">2005</td>
<td align="left">1980</td>
</tr>
<tr class="even">
<td align="left">2006</td>
<td align="left">1995</td>
</tr>
<tr class="odd">
<td align="left">2007</td>
<td align="left">1989</td>
</tr>
<tr class="even">
<td align="left">2008</td>
<td align="left">1994</td>
</tr>
<tr class="odd">
<td align="left">2009</td>
<td align="left">1981</td>
</tr>
<tr class="even">
<td align="left">2010</td>
<td align="left">1985</td>
</tr>
<tr class="odd">
<td align="left">2011</td>
<td align="left">1997</td>
</tr>
<tr class="even">
<td align="left">2012</td>
<td align="left">1985</td>
</tr>
<tr class="odd">
<td align="left">2013</td>
<td align="left">1987</td>
</tr>
<tr class="even">
<td align="left">2014</td>
<td align="left">1992</td>
</tr>
<tr class="odd">
<td align="left">2015</td>
<td align="left">1992</td>
</tr>
<tr class="even">
<td align="left">2016</td>
<td align="left">1985</td>
</tr>
<tr class="odd">
<td align="left">2017</td>
<td align="left">1998</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="rearing-inputs-proxy-years">Rearing Inputs Proxy Years<a class="anchor" aria-label="anchor" href="#rearing-inputs-proxy-years"></a>
</h4>
<table class="table">
<thead><tr class="header">
<th align="left">Calibration Year</th>
<th align="left">Selected Proxy Year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1998</td>
<td align="left">1998</td>
</tr>
<tr class="even">
<td align="left">1999</td>
<td align="left">1999</td>
</tr>
<tr class="odd">
<td align="left">2000</td>
<td align="left">2000</td>
</tr>
<tr class="even">
<td align="left">2001</td>
<td align="left">1987</td>
</tr>
<tr class="odd">
<td align="left">2002</td>
<td align="left">1985</td>
</tr>
<tr class="even">
<td align="left">2003</td>
<td align="left">2000</td>
</tr>
<tr class="odd">
<td align="left">2004</td>
<td align="left">1985</td>
</tr>
<tr class="even">
<td align="left">2005</td>
<td align="left">1980</td>
</tr>
<tr class="odd">
<td align="left">2006</td>
<td align="left">1995</td>
</tr>
<tr class="even">
<td align="left">2007</td>
<td align="left">1989</td>
</tr>
<tr class="odd">
<td align="left">2008</td>
<td align="left">1994</td>
</tr>
<tr class="even">
<td align="left">2009</td>
<td align="left">1981</td>
</tr>
<tr class="odd">
<td align="left">2010</td>
<td align="left">1985</td>
</tr>
<tr class="even">
<td align="left">2011</td>
<td align="left">1997</td>
</tr>
<tr class="odd">
<td align="left">2012</td>
<td align="left">1985</td>
</tr>
<tr class="even">
<td align="left">2013</td>
<td align="left">1987</td>
</tr>
<tr class="odd">
<td align="left">2014</td>
<td align="left">1992</td>
</tr>
<tr class="even">
<td align="left">2015</td>
<td align="left">1992</td>
</tr>
<tr class="odd">
<td align="left">2016</td>
<td align="left">1985</td>
</tr>
<tr class="even">
<td align="left">2017</td>
<td align="left">1998</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="fitness-function">Fitness Function<a class="anchor" aria-label="anchor" href="#fitness-function"></a>
</h2>
<p>We are minimizing the sum of squared errors of simulated natural
adults and grandtab adults scaled using simulated proportion natural,
normalized by mean escapement. The purpose of normalizing is to prevent
watersheds with large escapement values from dominating the calibration.
In addition to normalizing we are adding weights to each error term
corresponding to the amount data available at that watershed. Doing so
will penalize watersheds with more data whose error term is large, but
be less aggressive with watersheds with less data.</p>
<p>All intercepts and watersheds that need calibration are described in
the Objective section of this document.</p>
<p>Notes:</p>
<ol style="list-style-type: decimal">
<li><p><code>..surv_adult_enroute_int</code> and
<code>..ocean_entry_success_int</code> are vectors and expanded within
the fitness function arguments.</p></li>
<li><p>R integer data type is a 32 bit signed integer which can only
count to ~2 billion. During calibration, some estimates of juveniles and
adults will exceed this limit and cause errors. We run the prediction
within the fitness function inside a tryCatch block. If an integer is
produced that is too large we return a large loss value, this will
ensure that this iteration will not be selected for future
generations.</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fitness Function ------------------</span>
<span class="va">fall_run_fitness</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span>
  <span class="va">known_adults</span>,
  <span class="va">seeds</span>,
  <span class="va">params</span>,
  <span class="va">surv_adult_enroute</span>,
  <span class="va">surv_adult_prespawn</span>,
  <span class="va">surv_egg_to_fry</span>,
  <span class="va">bypass_surv_juv</span>,
  <span class="va">upsac_surv_juv</span>,
  <span class="va">butte_surv_juv</span>,
  <span class="va">clear_surv_juv</span>,
  <span class="va">deer_surv_juv</span>,
  <span class="va">mill_surv_juv</span>,
  <span class="va">sac_surv_juv</span>,
  <span class="va">feather_and_bear_surv_juv</span>,
  <span class="va">yuba_surv_juv</span>,
  <span class="va">american_surv_juv</span>,
  <span class="va">deltatribs_surv_juv</span>,
  <span class="va">moke_surv_juv</span>,
  <span class="va">merced_surv_juv</span>,
  <span class="va">stan_surv_juv</span>,
  <span class="va">tuol_surv_juv</span>,
  <span class="va">sj_surv_juv</span>,
  <span class="va">surv_juv_rear_contact_points</span>,
  <span class="va">surv_juv_rear_prop_diversions</span>,
  <span class="va">surv_juv_rear_total_diversions</span>,
  <span class="va">surv_juv_bypass_int</span>,
  <span class="va">surv_juv_delta_int</span>,
  <span class="va">surv_juv_delta_contact_points</span>,
  <span class="va">surv_juv_delta_total_diverted</span>,
  <span class="va">surv_juv_outmigration_sj_int</span>,
  <span class="va">default_ocean_entry_surv</span>,
  <span class="va">upsac_ocean_entry_surv</span>,
  <span class="va">butte_ocean_entry_surv</span>,
  <span class="va">deer_ocean_entry_surv</span>,
  <span class="va">mill_ocean_entry_surv</span>,
  <span class="va">midsactribs_ocean_entry_surv</span>,
  <span class="va">yuba_ocean_entry_surv</span>,
  <span class="va">american_ocean_entry_surv</span>,
  <span class="va">deltatribs_ocean_entry_surv</span>,
  <span class="va">moke_ocean_entry_surv</span>,
  <span class="va">merced_ocean_entry_surv</span>,
  <span class="va">stan_ocean_entry_surv</span>,
  <span class="va">tuol_ocean_entry_surv</span><span class="op">)</span> <span class="op">{</span>

  <span class="va">params_init</span> <span class="op">&lt;-</span> <span class="va">params</span>

  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_adult_enroute_int</span> <span class="op">=</span> <span class="va">surv_adult_enroute</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_adult_prespawn_int</span> <span class="op">=</span> <span class="va">surv_adult_prespawn</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_egg_to_fry_int</span> <span class="op">=</span> <span class="va">surv_egg_to_fry</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_rear_int</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>`Upper Sacramento River` <span class="op">=</span> <span class="va">upsac_surv_juv</span>,
                                      `Antelope Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Battle Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Bear Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Big Chico Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Butte Creek` <span class="op">=</span> <span class="va">butte_surv_juv</span>,
                                      `Clear Creek` <span class="op">=</span> <span class="va">clear_surv_juv</span>,
                                      `Cottonwood Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Cow Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Deer Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Elder Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Mill Creek` <span class="op">=</span> <span class="va">mill_surv_juv</span>,
                                      `Paynes Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Stony Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Thomes Creek` <span class="op">=</span> <span class="va">deer_surv_juv</span>,
                                      `Upper-mid Sacramento River` <span class="op">=</span> <span class="va">sac_surv_juv</span>,
                                      `Sutter Bypass` <span class="op">=</span> <span class="va">bypass_surv_juv</span>,
                                      `Bear River` <span class="op">=</span> <span class="va">feather_and_bear_surv_juv</span>,
                                      `Feather River` <span class="op">=</span> <span class="va">feather_and_bear_surv_juv</span>,
                                      `Yuba River` <span class="op">=</span> <span class="va">yuba_surv_juv</span>,
                                      `Lower-mid Sacramento River` <span class="op">=</span> <span class="va">sac_surv_juv</span>,
                                      `Yolo Bypass` <span class="op">=</span> <span class="va">bypass_surv_juv</span>,
                                      `American River` <span class="op">=</span> <span class="va">american_surv_juv</span>,
                                      `Lower Sacramento River` <span class="op">=</span> <span class="va">sac_surv_juv</span>,
                                      `Calaveras River` <span class="op">=</span> <span class="va">deltatribs_surv_juv</span>,
                                      `Cosumnes River` <span class="op">=</span> <span class="va">deltatribs_surv_juv</span>,
                                      `Mokelumne River` <span class="op">=</span> <span class="va">moke_surv_juv</span>,
                                      `Merced River` <span class="op">=</span> <span class="va">merced_surv_juv</span>,
                                      `Stanislaus River` <span class="op">=</span> <span class="va">stan_surv_juv</span>,
                                      `Tuolumne River` <span class="op">=</span> <span class="va">tuol_surv_juv</span>,
                                      `San Joaquin River` <span class="op">=</span> <span class="va">sj_surv_juv</span><span class="op">)</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_rear_contact_points</span> <span class="op">=</span> <span class="va">surv_juv_rear_contact_points</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_rear_prop_diversions</span> <span class="op">=</span> <span class="va">surv_juv_rear_prop_diversions</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_rear_total_diversions</span> <span class="op">=</span> <span class="va">surv_juv_rear_total_diversions</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_bypass_int</span> <span class="op">=</span> <span class="va">surv_juv_bypass_int</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_delta_int</span> <span class="op">=</span> <span class="va">surv_juv_delta_int</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_delta_contact_points</span> <span class="op">=</span> <span class="va">surv_juv_delta_contact_points</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_delta_total_diverted</span> <span class="op">=</span> <span class="va">surv_juv_delta_total_diverted</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..surv_juv_outmigration_sj_int</span> <span class="op">=</span> <span class="va">surv_juv_outmigration_sj_int</span>
  <span class="va">params_init</span><span class="op">$</span><span class="va">..ocean_entry_success_int</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>
    `Upper Sacramento River` <span class="op">=</span> <span class="va">upsac_ocean_entry_surv</span>,
    `Antelope Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Battle Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Bear Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Big Chico Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Butte Creek` <span class="op">=</span> <span class="va">butte_ocean_entry_surv</span>,
    `Clear Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Cottonwood Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Cow Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Deer Creek` <span class="op">=</span> <span class="va">deer_ocean_entry_surv</span>,
    `Elder Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Mill Creek` <span class="op">=</span> <span class="va">mill_ocean_entry_surv</span>,
    `Paynes Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Stony Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Thomes Creek` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Upper-mid Sacramento River` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Sutter Bypass` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Bear River` <span class="op">=</span> <span class="va">midsactribs_ocean_entry_surv</span>,
    `Feather River` <span class="op">=</span> <span class="va">midsactribs_ocean_entry_surv</span>,
    `Yuba River` <span class="op">=</span> <span class="va">yuba_ocean_entry_surv</span>,
    `Lower-mid Sacramento River` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Yolo Bypass` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `American River` <span class="op">=</span> <span class="va">american_ocean_entry_surv</span>,
    `Lower Sacramento River` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span>,
    `Calaveras River` <span class="op">=</span> <span class="va">deltatribs_ocean_entry_surv</span>,
    `Cosumnes River` <span class="op">=</span> <span class="va">deltatribs_ocean_entry_surv</span>,
    `Mokelumne River` <span class="op">=</span> <span class="va">moke_ocean_entry_surv</span>,
    `Merced River` <span class="op">=</span> <span class="va">merced_ocean_entry_surv</span>,
    `Stanislaus River` <span class="op">=</span> <span class="va">stan_ocean_entry_surv</span>,
    `Tuolumne River` <span class="op">=</span> <span class="va">tuol_ocean_entry_surv</span>,
    `San Joaquin River` <span class="op">=</span> <span class="va">default_ocean_entry_surv</span><span class="op">)</span>


  <span class="va">keep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">10</span>,<span class="fl">12</span>,<span class="fl">19</span>,<span class="fl">20</span>,<span class="fl">23</span>,<span class="fl">26</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span>
  <span class="va">num_obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">known_adults</span><span class="op">[</span><span class="va">keep</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
  <span class="va">total_obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">known_adults</span><span class="op">[</span><span class="va">keep</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
  <span class="va">weights</span> <span class="op">&lt;-</span> <span class="va">num_obs</span> <span class="op">/</span> <span class="va">total_obs</span>


  <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span>
    <span class="va">preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fall_run_model.html">fall_run_model</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"calibrate"</span>,
                            seeds <span class="op">=</span> <span class="va">seeds</span>,
                            stochastic <span class="op">=</span> <span class="cn">FALSE</span>,
                            ..params <span class="op">=</span> <span class="va">params_init</span><span class="op">)</span>

    <span class="va">known_nats</span> <span class="op">&lt;-</span> <span class="va">known_adults</span><span class="op">[</span><span class="va">keep</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">params_init</span><span class="op">$</span><span class="va">proportion_hatchery</span><span class="op">[</span><span class="va">keep</span><span class="op">]</span><span class="op">)</span>
    <span class="va">mean_escapent</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">known_nats</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

    <span class="va">sse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="va">preds</span><span class="op">[</span><span class="va">keep</span>,<span class="op">]</span> <span class="op">-</span> <span class="va">known_nats</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="va">weights</span><span class="op">)</span><span class="op">/</span><span class="va">mean_escapent</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">sse</span><span class="op">)</span>
  <span class="op">}</span>,
  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">1e12</span><span class="op">)</span>,
  warning <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">w</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">1e12</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="run-ga-algorithm">Run GA Algorithm<a class="anchor" aria-label="anchor" href="#run-ga-algorithm"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu">DSMCalibrationData</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DSMCalibrationData/man/set_synth_years.html" class="external-link">set_synth_years</a></span><span class="op">(</span><span class="fu">fallRunDSM</span><span class="fu">::</span><span class="va"><a href="../reference/params.html">params</a></span><span class="op">)</span>

<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">GA</span><span class="fu">::</span><span class="fu"><a href="https://github.com/luca-scr/GA/reference/ga.html" class="external-link">ga</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"real-valued"</span>,
          fitness <span class="op">=</span>
            <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span><span class="fu">fall_run_fitness</span><span class="op">(</span>
              known_adults <span class="op">=</span> <span class="fu">DSMCalibrationData</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/DSMCalibrationData/man/grandtab.html" class="external-link">grandtab_observed</a></span><span class="op">$</span><span class="va">fall</span>,
              seeds <span class="op">=</span> <span class="fu">DSMCalibrationData</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/DSMCalibrationData/man/grandtab.html" class="external-link">grandtab_imputed</a></span><span class="op">$</span><span class="va">fall</span>,
              params <span class="op">=</span> <span class="va">params</span>,
              <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">8</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span>,
              <span class="va">x</span><span class="op">[</span><span class="fl">11</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">12</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">13</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">14</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">15</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">16</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">17</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">18</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">19</span><span class="op">]</span>,
              <span class="va">x</span><span class="op">[</span><span class="fl">20</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">21</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">22</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">23</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">24</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">25</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">26</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">27</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">28</span><span class="op">]</span>,
              <span class="va">x</span><span class="op">[</span><span class="fl">29</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">30</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">31</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">32</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">33</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">34</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">35</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">36</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">37</span><span class="op">]</span>,
              <span class="va">x</span><span class="op">[</span><span class="fl">38</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">39</span><span class="op">]</span>, <span class="va">x</span><span class="op">[</span><span class="fl">40</span><span class="op">]</span>
            <span class="op">)</span>,
          lower <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.5</span>, <span class="fl">39</span><span class="op">)</span><span class="op">)</span>,
          upper <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">40</span><span class="op">)</span>,
          popSize <span class="op">=</span> <span class="fl">150</span>,
          maxiter <span class="op">=</span> <span class="fl">10000</span>,
          run <span class="op">=</span> <span class="fl">50</span>,
          parallel <span class="op">=</span> <span class="cn">TRUE</span>,
          pmutation <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="calibration-settings">Calibration Settings<a class="anchor" aria-label="anchor" href="#calibration-settings"></a>
</h2>
<p>The <code>ga</code> function allows for several paramaters to be set
before calibrating a model. Here we list the reasoning for the values
passed into the <code>ga</code> functon above.</p>
<ul>
<li><p><code>lower</code> - sets the lower bound possible for each of
the parameters we are trying to calibrate. All parameters used in the
model exist within a inverse logit function therefore limiting the
genetic algorithms space of search greatly improves its speed. We also
explicitly limit <code>..surv_adult_enroute</code> as a positive value
to keep the GA from quickly converging to a state where all fish are
dead.</p></li>
<li><p><code>upper</code> - sets the upper bound possible for each of
the parameters we are trying to calibrate. The same reasoning as
<code>lower</code>, but we add no special limitiation to
<code>..surv_adult_enroute</code></p></li>
<li><p><code>popSize</code> - sets population size for each iteration of
the GA. We found 150 to be a good balance between breadth and speed of
the search.</p></li>
<li><p><code>maxiter</code> - sets the number of iterations the GA will
run for. We set this value large enough so that the <code>run</code>
argument would be determining factor as to when the GA stopped.</p></li>
<li><p><code>run</code> - we set this value to 50 as it allowed the
algorithm to avoid local minimum but also complete the calibration
within 3-4 hours.</p></li>
<li><p><code>pmutation</code> - set the probability of mutation, we used
this value to explore the solution space more aggresively once we had a
starting position from a previous run.</p></li>
</ul>
<p>The algorithm is always run in parallel.</p>
</div>
<div class="section level2">
<h2 id="calibration-results">Calibration Results<a class="anchor" aria-label="anchor" href="#calibration-results"></a>
</h2>
<p>The results for calibration are below:</p>
<p><strong>Spawning Adults</strong></p>
<ul>
<li>
<code>..surv_adult_enroute_int</code> = 3.3660081</li>
<li>
<code>..surv_adult_prespawn_int</code> = -1.061446</li>
</ul>
<p><strong>Egg to Fry</strong></p>
<ul>
<li>
<code>..surv_egg_to_fry_int</code> = 3.4048167</li>
</ul>
<p><strong>Rearing Survival Intercepts</strong></p>
<p><em>Note: Deer Creek survival intercept was used for all Upper
Sacramento Tributaries not listed below</em></p>
<p>Intercepts listed below are supplied into the model as a vector
<code>..surv_juv_int</code></p>
<ul>
<li>Bypass (Yolo and Sutter) = -0.7230985</li>
<li>Upper Sacramento River = 2.9687302</li>
<li>Butte Creek = -0.6094086</li>
<li>Clear Creek = 2.8237986</li>
<li>Deer Creek = -0.2438628</li>
<li>Mill Creek = -0.2663291</li>
<li>Sacramento River = 1.9282397</li>
<li>Feather and Bear River = -0.701983</li>
<li>Yuba River = 0.5618062</li>
<li>American River = -1.4780065</li>
<li>Calaveras and Cosumnes River = 1.8642124</li>
<li>Mokelumne River = -0.4910794</li>
<li>Merced River = 1.885828</li>
<li>Stanislaus River = -0.797111</li>
<li>Tuolumne River = -1.8340336</li>
<li>San Joaquin River = -1.2950271</li>
<li>
<code>..surv_juv_rear_contact_points</code> = 0.3317422</li>
<li>
<code>..surv_juv_rear_prop_diversions</code> = -2.5818296</li>
<li>
<code>..surv_juv_rear_total_diversions</code> = -3.1670594</li>
</ul>
<p><strong>Migration Intercepts</strong></p>
<ul>
<li>
<code>..surv_juv_bypass_int</code> = -2.2108365</li>
<li>
<code>..surv_juv_delta_int</code> = -2.0264052</li>
<li>
<code>..surv_juv_delta_contact_points</code> = -1.4272058</li>
<li>
<code>..surv_juv_delta_total_diverted</code> = 1.0292423</li>
<li>
<code>..surv_juv_outmigration_sj_int</code> = -0.4343738</li>
</ul>
<p><strong>Ocean Entry Success</strong></p>
<p>Intercepts listed below are supplied into the model as a vector
<code>..ocean_entry_success_int</code></p>
<ul>
<li>Default Ocean Entry = 2.6768012</li>
<li>Upper Sacramento River = 2.9739999</li>
<li>Butte Creek = -0.9551862</li>
<li>Deer Creek = -1.056046</li>
<li>Mill Creek = -0.5287509</li>
<li>Bear and Feather River = 0.1730387</li>
<li>Yuba River = -1.6229621</li>
<li>American River = -1.8852218</li>
<li>Calaveras and Cosumnes River = 1.7441138</li>
<li>Mokelumne River = 0.2561206</li>
<li>Merced River = -1.6259521</li>
<li>Stanislaus River = -0.2705412</li>
<li>Tuolumne River = -0.2540344</li>
</ul>
<p><em>Default Ocean Entry is used for all watersheds not listed
above</em></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by James Petterson, Adam Duarte, Sadie Gill, Emanuel Rodriguez.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
